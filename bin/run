#!/bin/bash

# change this to run from any directory
cd "$(dirname "$0")"
cd ..

case $1 in
  build)
    npx tsc
    chmod +x dist/cli.js 
    ;;
  install)
    npm install
    ;;
  URL_FILE)
    ./dist/cli.js $2
    ;;
  test)
    npm run test
    ;;
  chelp)
    ./dist/cli.js --help
    ;;
  help)
    echo "Usage: ./run.sh [command]"
    echo "Commands:"
    echo "  build: Build the project"
    echo "  install: Install dependencies"
    echo "  URL_FILE: Run the project with the URL file"
    echo "  test: Run the tests"
    echo "  chelp: show the CLI help"
    echo "  help: Show this help"
    ;;
  *)
    echo "Invalid command"
    exit 1
    ;;
esac